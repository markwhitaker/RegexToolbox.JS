"use strict";Array.prototype.has=function(a){return this.indexOf(a)>-1};var RegexQuantifier=function(b,d){var a=/(\*|\+|\?|{\d+}|{\d+,}|{\d+,\d+})\??/;if(!a.test(b)){throw new Error("Invalid regexString")}var c=b;this.butAsFewAsPossible=function(){if(!d){throw new Error("butAsFewAsPossible() can't be called on this quantifier")}return new RegexQuantifier(c+"?",false)};this.regexString=function(){return c}};RegexQuantifier.zeroOrMore=new RegexQuantifier("*",true);RegexQuantifier.oneOrMore=new RegexQuantifier("+",true);RegexQuantifier.noneOrOne=new RegexQuantifier("?",true);RegexQuantifier.exactly=function(a){return new RegexQuantifier("{"+a+"}",false)};RegexQuantifier.atLeast=function(a){return new RegexQuantifier("{"+a+",}",true)};RegexQuantifier.noMoreThan=function(a){return new RegexQuantifier("{0,"+a+"}",true)};RegexQuantifier.between=function(a,b){return new RegexQuantifier("{"+a+","+b+"}",true)};var RegexOptions={IGNORE_CASE:"option-ignore-case",MATCH_ALL:"option-match-all",MULTI_LINE:"option-multi-line"};var RegexBuilder=function(){var b=0;var e="";var d=function(g){return g.replace("\\","\\\\").replace("?","\\?").replace(".","\\.").replace("+","\\+").replace("*","\\*").replace("^","\\^").replace("$","\\$").replace("(","\\(").replace(")","\\)").replace("[","\\[").replace("]","\\]").replace("{","\\{").replace("}","\\}").replace("|","\\|")};var f=function(h){var g=h.replace("]","\\]");if(g.indexOf("^")===0){g="\\"+g}return g};var c=function(g){if(!g){return}if(!(g instanceof RegexQuantifier)){throw new Error("quantifier must be a RegexQuantifier")}e+=g.regexString()};var a=function(g){return typeof(g)==="string"||g instanceof String};this.buildRegex=function(h){if(b===1){throw new Error("One group is still open")}if(b>1){throw new Error(b+" groups are still open")}var g="";if(h){if(!(h instanceof Array)){h=[h]}if(h.has(RegexOptions.MATCH_ALL)){g+="g"}if(h.has(RegexOptions.IGNORE_CASE)){g+="i"}if(h.has(RegexOptions.MULTI_LINE)){g+="m"}}var i=new RegExp(e,g);e="";return i};this.text=function(h,g){if(h===null||h===undefined||h.length===0){return this}if(!a(h)){throw new Error("text must be a string")}return this.regexText(d(h),g)};this.regexText=function(h,g){if(h===null||h===undefined||h.length===0){return this}if(!a(h)){throw new Error("text must be a string")}if(!g){e+=h;return this}return this.startNonCapturingGroup().regexText(h).endGroup(g)};this.anyCharacter=function(g){e+=".";c(g);return this};this.whitespace=function(g){e+="\\s";c(g);return this};this.nonWhitespace=function(g){e+="\\S";c(g);return this};this.digit=function(g){e+="\\d";c(g);return this};this.nonDigit=function(g){e+="\\D";c(g);return this};this.letter=function(g){e+="[a-zA-Z]";c(g);return this};this.nonLetter=function(g){e+="[^a-zA-Z]";c(g);return this};this.uppercaseLetter=function(g){e+="[A-Z]";c(g);return this};this.lowercaseLetter=function(g){e+="[a-z]";c(g);return this};this.letterOrDigit=function(g){e+="[a-zA-Z0-9]";c(g);return this};this.nonLetterOrDigit=function(g){e+="[^a-zA-Z0-9]";c(g);return this};this.hexDigit=function(g){e+="[0-9A-Fa-f]";c(g);return this};this.uppercaseHexDigit=function(g){e+="[0-9A-F]";c(g);return this};this.lowercaseHexDigit=function(g){e+="[0-9a-f]";c(g);return this};this.nonHexDigit=function(g){e+="[^0-9A-Fa-f]";c(g);return this};this.wordCharacter=function(g){e+="\\w";c(g);return this};this.nonWordCharacter=function(g){e+="\\W";c(g);return this};this.anyCharacterFrom=function(g,h){e+="["+f(g)+"]";c(h);return this};this.anyCharacterExcept=function(g,h){e+="[^"+f(g)+"]";c(h);return this};this.anyOf=function(g,h){if(g===null||g===undefined){return this}if(!(g instanceof Array)){return this.text(g,h)}if(g.length===1){return this.text(g[0],h)}if(g.length>1){return this.startNonCapturingGroup().regexText(g.map(function(i){return d(i)}).join("|")).endGroup(h)}return this};this.startOfString=function(){e+="^";return this};this.endOfString=function(){e+="$";return this};this.wordBoundary=function(){e+="\\b";return this};this.startGroup=function(){e+="(";b++;return this};this.startNonCapturingGroup=function(){e+="(?:";b++;return this};this.endGroup=function(g){if(b===0){throw new Error("Cannot call endGroup() until a group has been started with startGroup()")}e+=")";b--;c(g);return this}};